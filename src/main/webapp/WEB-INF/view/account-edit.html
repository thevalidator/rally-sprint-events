<!DOCTYPE html>
<html lang="ru"  xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">

    <head th:include="fragments.html :: header">
        <title id="pageTitle">Rally Sprint Events</title>
    </head>

    <body>
        <div th:replace="fragments.html :: toppic"></div>
        <div class="d-flex" id="wrapper">
            <!-- Sidebar-->
            <div th:replace="fragments.html :: sidebar"/>
            <!-- Page content wrapper-->
            <div id="page-content-wrapper">
                <!-- Top navigation-->
                <nav th:replace="fragments.html :: topnavigation"/>
                <!-- Page content-->
                <div class="container-fluid">

                    <br/>

                    <div >

                        <div class="container">
                            <div class="row">
                                <div class="col-xl-3 col-lg-3 col-md-12 col-sm-12 col-12">
                                    <div class="card h-100">
                                        <div class="card-body">
                                            <div class="account-settings">
                                                <div class="user-profile justify-content-center">

                                                    <div class="user-avatar">
                                                        <img class="rounded mx-auto d-block" th:src="@{resources/png/pilot.png}" width="100px" height="auto" alt="avatar"/>
                                                    </div>

                                                </div>
                                                <div class="about">
                                                    <h5 th:text="${user.username}" class="user-name text-center"></h5>
                                                </div>
                                                <br/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-xl-9 col-lg-9 col-md-12 col-sm-12 col-12">
                                    <div class="card h-100">
                                        <div class="card-body">
                                            <form method="POST" th:action="@{/account/edit}" class="needs-validation" novalidate>
                                                <div class="row">
                                                    <div class="col-xl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                                                        <div class="form-group">
                                                            <label for="lastName"><b>Фамилия:</b></label>
                                                            <input th:value="${pilot.lastName}" id="lastName" name="lastName" autocomplete="off" type="text" aria-label="lastName" class="form-control" required pattern="^[А-Я]{1}[а-я]{0,19}"/>
                                                            <div class="invalid-feedback">
                                                                Первая буква заглавная, далее прописные. Только кириллица. Макс 20 символов.
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-xl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                                                        <div class="form-group">
                                                            <label for="firstName"><b>Имя:</b></label>
                                                            <input th:value="${pilot.firstName}" id="firstName" name="firstName" autocomplete="off" type="text" aria-label="firstName" class="form-control" required pattern="^[А-Я]{1}[а-я]{0,19}"/>
                                                            <div class="invalid-feedback">
                                                                Первая буква заглавная, далее прописные. Только кириллица. Макс 20 символов. 
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-xl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                                                        <div class="form-group">
                                                            <label for="email"><b>Email:</b></label>
                                                            <input th:value="${user.email}" id="email" name="email" autocomplete="off" type="email" aria-label="email" class="form-control" required/>
                                                            <div class="invalid-feedback">
                                                                Неверный формат e-mail
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <br/>
                                                <div class="row">
                                                    <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                                                        <div class="text-right">
                                                            <div>
                                                                <div class="modal-footer">
                                                                    <button type="submit" class="btn btn-outline-dark btn-sm float-end">Сохранить</button>
                                                                    <a th:href="@{/account}" class="btn btn-outline-dark btn-sm float-end">Отмена</a> 
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                </div>      
                            </div>
                        </div>
                    </div>


                </div>


            </div>
        </div>

        <div th:replace="fragments.html :: copyright"></div>

        <script>
            (function () {
                'use strict'

                // Fetch all the forms we want to apply custom Bootstrap validation styles to
                var forms = document.querySelectorAll('.needs-validation')

                // Loop over them and prevent submission
                Array.prototype.slice.call(forms)
                        .forEach(function (form) {
                            form.addEventListener('submit', function (event) {
                                if (!form.checkValidity()) {
                                    event.preventDefault()
                                    event.stopPropagation()
                                }

                                form.classList.add('was-validated')
                            }, false)
                        })
            })()
        </script>
        <!-- Bootstrap core JS-->
        <script th:replace="fragments.html :: BCJS" />
        <!-- Core theme JS-->
        <script th:replace="fragments.html :: TJS" />
    </body>
</html>